(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lTfm:function(e,t,i){"use strict";i.r(t),i.d(t,"BuildingModule",function(){return u});var n=i("ofXK"),r=i("tyNb"),o=i("fXoL"),a=i("pW5E");const s=[{component:(()=>{class e{constructor(e){this.appShared=e}ngOnInit(){this.appShared.map.subscribe(e=>{this.mapOpts={center:e.getCenter(),zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing()},this.addBuildingLayer(e)})}ngOnDestroy(){this.appShared.map.subscribe(e=>{this.removeBuildingLayer(e)})}addBuildingLayer(e){e.addSource("gd_bas_building",{type:"vector",scheme:"tms",tiles:["http://192.168.6.102:8080/geoserver/gwc/service/tms/1.0.0/postgis:building@EPSG:3857@pbf/{z}/{x}/{y}.pbf"]}),e.addLayer({id:"gd_bas_building",metadata:{title:"\u5efa\u7b51\u7269","mapbox:group":"building",type:"operational"},type:"fill-extrusion",source:"gd_bas_building","source-layer":"building",minzoom:13,maxzoom:23,layout:{visibility:"visible"},paint:{"fill-extrusion-opacity":.8,"fill-extrusion-height":["to-number",["get","height"],0],"fill-extrusion-color":["case",["<=",["to-number",["get","height"]],20],"#feedde",["<=",["to-number",["get","height"]],50],"#fdd0a2",["<=",["to-number",["get","height"]],100],"#fdae6b",["<=",["to-number",["get","height"]],150],"#fd8d3c",["<=",["to-number",["get","height"]],200],"#f16913",["<=",["to-number",["get","height"]],300],"#d94801","#8c2d04"]}}),e.flyTo({center:{lng:113.35773700852451,lat:23.152798260893263},zoom:14,pitch:0,bearing:0})}removeBuildingLayer(e){e.removeLayer("gd_bas_building"),e.removeSource("gd_bas_building"),e.flyTo(this.mapOpts)}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(a.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["app-building-home"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Nb(0,"p"),o.vc(1," Building layer added to map!\n"),o.Mb())},styles:[""]}),e})(),path:""}];let d=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[r.c.forChild(s)],r.c]}),e})(),u=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[n.b,d]]}),e})()}}]);